/*
	ArmA 3 King of Hill
	Code written by Sa-Matra
	Using this code without Sa-Matra's direct permission is forbidden
	
	Special build for Gamed.de
	
	Build ETYKMBSIGDHGNALL
*/
kgevt5={if(_this==0)exitWith{"0"};private["_0ca","_0s","_0da"];_0ca=_this;_0s="";_0da=(if(_0ca>0)then{""}else{"-"});_0ca=abs(_0ca);while{_0ca>0}do{private["_0ea"];_0ea=floor(_0ca/10);_0s=str(_0ca-_0ea*10)+_0s;_0ca=_0ea;};(_0da+_0s)};kgguij={private["_0tp","_pos","_0up","_0vp"];_0tp=typeOf _this;_0up=vectorDir _this;_0vp=vectorUp _this;_this setVectorDirAndUp[[1,0,0],[0,0,1]];_pos=getPosATL _this;_this setVectorDirAndUp[_0up,_0vp];[_0tp,[(_pos select 0)call kgevt5,(_pos select 1)call kgevt5,(_pos select 2)call kgevt5],[(_0up select 0)call kgevt5,(_0up select 1)call kgevt5,(_0up select 2)call kgevt5],[(_0vp select 0)call kgevt5,(_0vp select 1)call kgevt5,(_0vp select 2)call kgevt5]];};kgx8i4={private["_0tp","_pos","_08d","_0up","_0vp","_0wp"];_0tp=_this select 0;_pos=[parseNumber(_this select 1 select 0),parseNumber(_this select 1 select 1),parseNumber(_this select 1 select 2)];_0up=[parseNumber(_this select 2 select 0),parseNumber(_this select 2 select 1),parseNumber(_this select 2 select 2)];_0vp=[parseNumber(_this select 3 select 0),parseNumber(_this select 3 select 1),parseNumber(_this select 3 select 2)];_0wp=createVehicle[_0tp,_pos,[],0,""];_0wp setVectorDirAndUp[_0up,_0vp];_0wp setVectorDirAndUp[[1,0,0],[0,0,1]];_0wp setPosATL _pos;_0wp setVectorDirAndUp[_0up,_0vp];_0wp};kg7d1d={_0r=toString[13,10];_0xp=toString[9];_0s="["+_0r;_0yp=0;{if(!isNull(_x))then{_0yp=_0yp+1;_0s=_0s+_0xp+str(_x call kgguij)+(if(_0yp==({!(isNull _x)}count _this))then{""}else{","})+_0r;};}forEach _this;_0s=_0s+"]";diag_log _0s;copyToClipboard _0s;systemChat format["Count: %1",count(_this)];_0s};kgzl4i={_this spawn{_0v=_this call kgguij;_0na=_0v call kgx8i4;systemChat str(getPosATL _this);systemChat str(getPosATL _0na);systemChat "--------------------";sleep 5;deleteVehicle _0na;};};kgg9vm={_pos=_this select 0;_0zp=_this select 1;_01p=[];_pos set[2,0];{if(!isPlayer(_x)&&!(_x isKindOf "ThingEffect"))then{_02p=getPosATL(_x);_02p set[2,0];if(_pos distance _02p<_0zp)then{_01p set[count _01p,_x];};};}forEach allMissionObjects "All";if(count(_01p)==0)exitWith{systemChat "Nothing found"};_0r=toString[13,10];_0xp=toString[9];_0s="["+_0r;_0yp=0;{_0yp=_0yp+1;_03p=getPosATL _x;_03p set[0,(_03p select 0)-(_pos select 0)];_03p set[1,(_03p select 1)-(_pos select 1)];_0s=_0s+_0xp+str([typeOf _x,_03p,getDir _x])+(if(_0yp==count(_01p))then{""}else{","})+_0r;}forEach _01p;_0s=_0s+"]";diag_log _0s;copyToClipboard _0s;systemChat format["Count: %1",count(_01p)];_0s};kgm81l={[(cos(_this select 1)*(_this select 0 select 0))+(sin(_this select 1)*(_this select 0 select 1)),(-(sin(_this select 1))*(_this select 0 select 0))+(cos(_this select 1)*(_this select 0 select 1)),_this select 0 select 2]};kg8fth={_04p=_this select 0;_05p=_this select 1;_06p=_this select 2;_07p=if(isNil{_this select 3})then{false}else{_this select 3};_08p=if(count(_this)>3)then{if(isNil{_this select 4})then{false}else{_this select 4}}else{false};_0ba=[];{private["_pos"];_09p=[_x select 1,_05p]call kgm81l;_pos=[];for "_i" from 0 to 2 do{_pos set[_i,(_04p select _i)+(_09p select _i)]};if(_07p)then{_0ba set[count _0ba,[_pos,(_x select 2)+_05p]];}else{_0wp=createVehicle[_x select 0,_pos,[],0,"CAN_COLLIDE"];if(_08p)then{_0wp enableSimulation false;};_0wp setPosATL _pos;_0wp setDir(_x select 2)+_05p;_0wp setVectorUp(surfaceNormal _pos);_0ba set[count _0ba,_0wp];};}forEach _06p;_0ba};kg9ea4={_04p=_this select 0;_05p=_this select 1;_06p=_this select 2;_07p=if(isNil{_this select 3})then{false}else{_this select 3};_08p=if(count(_this)>3)then{if(isNil{_this select 4})then{false}else{_this select 4}}else{false};_0ba=[];{private["_pos"];_09p=[_x select 1,_05p]call kgm81l;_pos=[];for "_i" from 0 to 2 do{_pos set[_i,(_04p select _i)+(_09p select _i)]};if(_07p)then{_0ba set[count _0ba,[_pos,(_x select 2)+_05p]];}else{_0wp=createVehicle[_x select 0,ASLtoATL(_pos),[],0,"CAN_COLLIDE"];if(_08p)then{_0wp enableSimulation false;};_0wp setPosASL _pos;_0wp setDir(_x select 2)+_05p;_0ba set[count _0ba,_0wp];};}forEach _06p;_0ba};