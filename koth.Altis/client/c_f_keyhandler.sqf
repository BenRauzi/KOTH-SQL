/*
	ArmA 3 King of Hill
	Code written by Sa-Matra
	Using this code without Sa-Matra's direct permission is forbidden
	
	Special build for Gamed.de
	
	Build ETYKMBSIGDHGNALL
*/
private["_0vn","_0tn","_0ta","_0ul","_0p","_0ta","_0un"];_0p=_this select 0;_0ul=_this select 1;_0tn=_this select 2;_0un=_this select 3;_0ta=_this select 4;_0vn=false;kg2xyw=diag_tickTime;
#define kgypx2 ["76561198446291075","76561198361632064","76561198418378365","76561198314937909"]
_0vn=(_0ul in(actionKeys "TacticalView"+actionKeys "ForceCommandingMode"));if(_0ul in actionKeys "ReloadMagazine")then{kgkq4g=diag_tickTime;};if(_0ul==41)then{call kgjjhs;if(kg4bsk)then{call kg1gfu;};_0vn=true;};if(_0ul==0x3B)then{kg9zy6=!kg9zy6;kg9zy6 call kg1rk1;0.5 fadeSound(if(kg9zy6)then{0.1}else{1});_0vn=true;};if(_0tn&&_0un&&!_0ta&&(_0ul==46))then{kgv91t=!kgv91t;showChat!kgv91t;hint localize(if(kgv91t)then{"STR_KOH_NoChatMessageHidden"}else{"STR_KOH_NoChatMessageEnabled"});};if(_0un&&(_0ul==219||_0ul==220))then{if((getPlayerUID player)in kgypx2)then{createDialog "balca_debug_main";};};if(kg4bsk)then{if(_0ul==1)then{call kgg4on;_0vn=true;};};if(_0ul==0x0C&&_0un&&_0ta&&_0tn)then{!kgmadd call kgz74g;};if(!kg7ln8&&_0ul in[0x4C,0x4B,0x47,0x48,0x49,0x4D,0x51]&&_0tn)then{if(kgllpd<(diag_tickTime-0.5))then{if((vehicle player==player)&&(stance player!="PRONE"))then{switch(_0ul)do{case 0x4C:{player playAction(["gestureNo"]select floor(random 1));};case 0x4B:{player playAction(["gestureGo"]select floor(random 1));};case 0x47:{player playAction(["gesturePoint","gestureAdvance"]select floor(random 2));};case 0x48:{player playAction(["gestureNod"]select floor(random 1));};case 0x49:{player playAction(["gestureFreeze"]select floor(random 1));};case 0x4D:{player playAction(["gestureHi"]select floor(random 1));};case 0x51:{player playAction(["gestureCeaseFire"]select floor(random 1));};};kgllpd=diag_tickTime;};};_0vn=true;};if(settings_no3rdPerson)then{if(_0ul in(actionKeys "PersonView"))then{if((vehicle player)isKindOf "Air")then{_05d=vehicle player;_0vn=!(driver _05d==player||(isClass(configFile>>"CfgVehicles">>typeOf(_05d)>>"Turrets">>"CopilotTurret")&&(_05d turretUnit[0])==player));}else{_0vn=true;};};};if(_0ul in[0xDB,0xDC,0xDD])then{kgjf33=!isStreamFriendlyUIEnabled;kggc9g=serverTime+2;};if(isServer)then{if(_0ul in[20,21,22,35])then{if(_0ul==20)then{if(!isNull(cursorTarget))then{kg16zo=cursorTarget;_0vn=true;};};if(_0ul==21)then{if(_0tn)then{if(!isNull(kg16zo))then{kg32bv=getDir kg16zo;_0vn=true;};}else{if(!isNull(cursorTarget))then{kg32bv=getDir cursorTarget;_0vn=true;};};};if(_0ul==22)then{if(_0tn)then{player setDir kg32bv;}else{kg16zo setDir kg32bv;};_0vn=true;};if(_0ul==35)then{if(isNil"kgvhv8"||{kgvhv8==90})then{kgvhv8=45}else{kgvhv8=90};_0vn=true;};}else{if(_0ul in[200,203,205,208])then{if(_0un)then{_0wn=kg16zo;if(_0tn)then{_0wn=player;};if(!isNull(_0wn))then{if(isNil"kgvhv8")then{kgvhv8=90};_0xn=getDir(_0wn);if(_0ul==203)then{_0xn=_0xn-kgvhv8;};if(_0ul==205)then{_0xn=_0xn+kgvhv8;};_0wn setDir _0xn;_0vn=true;};}else{if(!isNull(kg16zo))then{_0lh=0.1;if(_0tn)then{_0lh=0.01;};_x=0;_0zf=0;_08d=0;_0xn=getDir kg16zo;if(_0ul in[203,205])then{_x=_x+1*(if(_0ul==203)then{-1}else{1})};if(_0ul in[200,208])then{_0zf=_0zf+1*(if(_0ul==208)then{-1}else{1})};_0yn=getPosWorld kg16zo;if(_0ta)then{_x=0;_0zf=0;if(_0ul in[200,208])then{_08d=_08d+1*(if(_0ul==208)then{-1}else{1})};};if(_x==0&&_0zf==0)then{if(_08d!=0)then{_0yn set[2,(_0yn select 2)+_08d*_0lh];kg16zo setPosWorld _0yn;};}else{_0xn=_0xn+(_x atan2 _0zf);_0yn set[0,(_0yn select 0)+sin(_0xn)*_0lh];_0yn set[1,(_0yn select 1)+cos(_0xn)*_0lh];kg16zo setPosWorld _0yn;};_0vn=true;};};};};};if(_0ul in kgn14n)then{kgin4h=true;};_0vn